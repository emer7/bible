{"version":3,"sources":["Verse.js","consts.js","VerseSelector.js","PopupMenu.js","utils.js","CrossReferenceDialog.js","App.js","serviceWorker.js","index.js"],"names":["SpanWithPointer","styled","cursor","Verse","book","chapter","verse","handleVerseClick","onClick","e","esv","VerseWithHeading","props","VerseWithRangedHeading","startVerse","endVerse","cannonArr","cannonDict","Genesis","Exodus","Leviticus","Numbers","Deuteronomy","Joshua","Judges","Ruth","Ezra","Nehemiah","Esther","Job","Psalms","Proverbs","Ecclesiastes","Isaiah","Jeremiah","Lamentations","Ezekiel","Daniel","Hosea","Joel","Amos","Obadiah","Jonah","Micah","Nahum","Habakkuk","Zephaniah","Haggai","Zechariah","Malachi","Matthew","Mark","Luke","John","Acts","Romans","Galatians","Ephesians","Philippians","Colossians","Titus","Philemon","Hebrews","James","Jude","Revelation","VersesSelector","initialBook","initialChapter","initialVerses","handleVersesAddressChange","RenderedView","buttonRender","useState","setBook","setChapter","verses","setVerses","Grid","container","direction","spacing","item","Select","value","onChange","target","map","MenuItem","key","Object","keys","sort","i","j","includes","allVerses","renderValue","values","length","reduce","acc","parseInt","slice","arrayedVerse","join","multiple","displayEmpty","Popupmenu","anchorEl","handleClosePopupMenu","handleOpenCrossReferenceDialog","Popover","open","Boolean","onClose","anchorOrigin","vertical","horizontal","transformOrigin","ButtonGroup","size","color","Button","removeDuplicate","index","array","indexOf","flatMapBibleObjectTree","tree","func","accumulatedBooks","bookTree","acc2","chapterTree","mapToVerseAddress","ConfirmButton","topic","handleCrossReference","CrossReferenceDialogContent","referredVersesAddress","handleReferredVersesChange","handleDeleteCrossReference","handleDeleteTopic","handleRenameTopic","topicsFromReferrer","topicsFromReferred","crossReferencesByReferrer","React","isSelectorOpen","setIsSelectorOpen","setTopic","customTopic","setCustomTopic","isTopicTextFieldOpen","setIsTopicTextFieldOpen","DialogContent","justify","alignItems","crossReferences","content","_e","verseAddress","Card","CardHeader","title","TextField","defaultValue","onKeyPress","subheader","action","IconButton","Close","CardContent","verseAddresses","previousBook","previousChapter","previousVerse","startVerseIndex","componentArray","newTopic","ListSubheader","filter","topicOption","placeholder","newCustomTopic","versesAddress","Date","getTime","toString","variant","fullWidth","CrossReferenceDialog","handleCloseCrossReferenceDialog","contentProps","Dialog","App","setAnchorEl","isDialogOpen","setIsDialogOpen","referrerVerseAddress","setReferrerVerseAddress","setReferredVersesAddress","referrerBook","referrerChapter","referrerVerse","referredBook","referredChapter","referredVerses","JSON","parse","localStorage","getItem","crossReferencesByTopic","setCrossReferencesByTopic","crossReferencesByVerse","setCrossReferencesByVerse","Container","setItem","stringify","currentTarget","handleOpenPopupMenu","newCrossReferencesByTopic","newCrossReferencesByVerse","forEach","referredVerse","topicContent","verseNumberListByVerse","verseIndex","splice","topicListByVerse","topicIndex","oldTopicName","newTopicName","window","location","hostname","match","ReactDOM","render","StrictMode","CssBaseline","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"ohg/HAKMA,EAAkBC,YAAO,OAAPA,CAAe,CACrCC,OAAQ,YAGGC,EAAQ,SAAC,GAAgD,IAA9CC,EAA6C,EAA7CA,KAAMC,EAAuC,EAAvCA,QAASC,EAA8B,EAA9BA,MAAOC,EAAuB,EAAvBA,iBAK5C,OACE,oCACE,6BAAMD,GACN,kBAACN,EAAD,CAAiBQ,QAPC,SAAAC,GACpBF,EAAiBE,EAAG,CAAEL,OAAMC,UAASC,YAOhCI,EAAIN,GAAMC,GAASC,GACnB,OAMIK,EAAmB,SAAC,GAAwC,IAAtCP,EAAqC,EAArCA,KAAMC,EAA+B,EAA/BA,QAASC,EAAsB,EAAtBA,MAAUM,EAAY,0CACtE,OACE,6BACE,6BACE,2BACGR,EADH,IACUC,EADV,IACoBC,IAGtB,kBAAC,EAAD,eAAOF,KAAMA,EAAMC,QAASA,EAASC,MAAOA,GAAWM,MAKhDC,EAAyB,SAAC,GAMhC,IALLT,EAKI,EALJA,KACAC,EAII,EAJJA,QACAS,EAGI,EAHJA,WACAC,EAEI,EAFJA,SACGH,EACC,0DACJ,OACE,oCACE,6BACE,2BACGR,EADH,IACUC,EADV,IACoBS,EADpB,MACmCC,IAGrC,kBAAC,EAAD,eAAOX,KAAMA,EAAMC,QAASA,EAASC,MAAOQ,GAAgBF,MC4FrDI,EAAS,UAhJD,CACnB,UACA,SACA,YACA,UACA,cACA,SACA,SACA,OACA,WACA,WACA,UACA,UACA,eACA,eACA,OACA,WACA,SACA,MACA,SACA,WACA,eACA,kBACA,SACA,WACA,eACA,UACA,SACA,QACA,OACA,OACA,UACA,QACA,QACA,QACA,WACA,YACA,SACA,YACA,WAGmB,CACnB,UACA,OACA,OACA,OACA,OACA,SACA,gBACA,gBACA,YACA,YACA,cACA,aACA,kBACA,kBACA,YACA,YACA,QACA,WACA,UACA,QACA,UACA,UACA,SACA,SACA,SACA,OACA,eA4EWC,EAAU,2BAzED,CACpBC,QAAS,EACTC,OAAQ,EACRC,UAAW,EACXC,QAAS,EACTC,YAAa,EACbC,OAAQ,EACRC,OAAQ,EACRC,KAAM,EACN,WAAY,EACZ,WAAY,GACZ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","file":"static/js/main.86644fa2.chunk.js","sourcesContent":["import React from 'react';\nimport { styled } from '@material-ui/core/styles';\n\nimport esv from './ESV.json';\n\nconst SpanWithPointer = styled('span')({\n  cursor: 'pointer',\n});\n\nexport const Verse = ({ book, chapter, verse, handleVerseClick }) => {\n  const handleOnClick = e => {\n    handleVerseClick(e, { book, chapter, verse });\n  };\n\n  return (\n    <>\n      <sup>{verse}</sup>\n      <SpanWithPointer onClick={handleOnClick}>\n        {esv[book][chapter][verse]}\n        {' ' /*remove, use CSS instead*/}\n      </SpanWithPointer>\n    </>\n  );\n};\n\nexport const VerseWithHeading = ({ book, chapter, verse, ...props }) => {\n  return (\n    <div>\n      <div>\n        <b>\n          {book} {chapter}:{verse}\n        </b>\n      </div>\n      <Verse book={book} chapter={chapter} verse={verse} {...props} />\n    </div>\n  );\n};\n\nexport const VerseWithRangedHeading = ({\n  book,\n  chapter,\n  startVerse,\n  endVerse,\n  ...props\n}) => {\n  return (\n    <>\n      <div>\n        <b>\n          {book} {chapter}:{startVerse} - {endVerse}\n        </b>\n      </div>\n      <Verse book={book} chapter={chapter} verse={startVerse} {...props} />\n    </>\n  );\n};\n","export const OTArr = [\n  'Genesis',\n  'Exodus',\n  'Leviticus',\n  'Numbers',\n  'Deuteronomy',\n  'Joshua',\n  'Judges',\n  'Ruth',\n  '1 Samuel',\n  '2 Samuel',\n  '1 Kings',\n  '2 Kings',\n  '1 Chronicles',\n  '2 Chronicles',\n  'Ezra',\n  'Nehemiah',\n  'Esther',\n  'Job',\n  'Psalms',\n  'Proverbs',\n  'Ecclesiastes',\n  'Song of Solomon',\n  'Isaiah',\n  'Jeremiah',\n  'Lamentations',\n  'Ezekiel',\n  'Daniel',\n  'Hosea',\n  'Joel',\n  'Amos',\n  'Obadiah',\n  'Jonah',\n  'Micah',\n  'Nahum',\n  'Habakkuk',\n  'Zephaniah',\n  'Haggai',\n  'Zechariah',\n  'Malachi',\n];\n\nexport const NTArr = [\n  'Matthew',\n  'Mark',\n  'Luke',\n  'John',\n  'Acts',\n  'Romans',\n  '1 Corinthians',\n  '2 Corinthians',\n  'Galatians',\n  'Ephesians',\n  'Philippians',\n  'Colossians',\n  '1 Thessalonians',\n  '2 Thessalonians',\n  '1 Timothy',\n  '2 Timothy',\n  'Titus',\n  'Philemon',\n  'Hebrews',\n  'James',\n  '1 Peter',\n  '2 Peter',\n  '1 John',\n  '2 John',\n  '3 John',\n  'Jude',\n  'Revelation',\n];\n\nexport const OTDict = {\n  Genesis: 1,\n  Exodus: 2,\n  Leviticus: 3,\n  Numbers: 4,\n  Deuteronomy: 5,\n  Joshua: 6,\n  Judges: 7,\n  Ruth: 8,\n  '1 Samuel': 9,\n  '2 Samuel': 10,\n  '1 Kings': 11,\n  '2 Kings': 12,\n  '1 Chronicles': 13,\n  '2 Chronicles': 14,\n  Ezra: 15,\n  Nehemiah: 16,\n  Esther: 17,\n  Job: 18,\n  Psalms: 19,\n  Proverbs: 20,\n  Ecclesiastes: 21,\n  'Song of Solomon': 22,\n  Isaiah: 23,\n  Jeremiah: 24,\n  Lamentations: 25,\n  Ezekiel: 26,\n  Daniel: 27,\n  Hosea: 28,\n  Joel: 29,\n  Amos: 30,\n  Obadiah: 31,\n  Jonah: 32,\n  Micah: 33,\n  Nahum: 34,\n  Habakkuk: 35,\n  Zephaniah: 36,\n  Haggai: 37,\n  Zechariah: 38,\n  Malachi: 39,\n};\n\nexport const NTDict = {\n  Matthew: 40,\n  Mark: 41,\n  Luke: 42,\n  John: 43,\n  Acts: 44,\n  Romans: 45,\n  '1 Corinthians': 46,\n  '2 Corinthians': 47,\n  Galatians: 48,\n  Ephesians: 49,\n  Philippians: 50,\n  Colossians: 51,\n  '1 Thessalonians': 52,\n  '2 Thessalonians': 53,\n  '1 Timothy': 54,\n  '2 Timothy': 55,\n  Titus: 56,\n  Philemon: 57,\n  Hebrews: 58,\n  James: 59,\n  '1 Peter': 60,\n  '2 Peter': 61,\n  '1 John': 62,\n  '2 John': 63,\n  '3 John': 64,\n  Jude: 65,\n  Revelation: 66,\n};\n\nexport const cannonArr = [...OTArr, ...NTArr];\nexport const cannonDict = { ...OTDict, ...NTDict };\n\nexport const NEW_DEFAULT_TOPIC = 'NEW_DEFAULT_TOPIC';\nexport const NEW_CUSTOM_TOPIC = 'NEW_CUSTOM_TOPIC';\n","import React, { useState } from 'react';\nimport { Select, MenuItem, Grid } from '@material-ui/core';\n\nimport { Verse } from './Verse';\n\nimport esv from './ESV.json';\n\nimport { cannonArr } from './consts';\n\nexport const VersesSelector = ({\n  initialBook,\n  initialChapter,\n  initialVerses,\n  handleVerseClick,\n  handleVersesAddressChange,\n  buttonRender: RenderedView,\n}) => {\n  const [book, setBook] = useState(initialBook || 'Genesis');\n  const [chapter, setChapter] = useState(initialChapter || '1');\n  const [verses, setVerses] = useState(initialVerses || ['1']);\n\n  const handleBookChange = e => {\n    setBook(e.target.value);\n    setChapter('1');\n    setVerses(['1']);\n    handleVersesAddressChange({\n      book: e.target.value,\n      chapter: '1',\n      verses: ['1'],\n    });\n  };\n\n  const handleChapterChange = e => {\n    setChapter(e.target.value);\n    setVerses(['1']);\n    handleVersesAddressChange({\n      book,\n      chapter: e.target.value,\n      verses: ['1'],\n    });\n  };\n\n  const handleVersesChange = e => {\n    const selectedVerses = e.target.value;\n\n    if (selectedVerses.includes('0')) {\n      const allVerses = Object.keys(esv[book][chapter]).sort((i, j) => i - j);\n\n      setVerses(allVerses);\n      handleVersesAddressChange({\n        book,\n        chapter,\n        verses: allVerses,\n      });\n    } else {\n      setVerses(e.target.value);\n      handleVersesAddressChange({\n        book,\n        chapter,\n        verses: e.target.value,\n      });\n    }\n  };\n\n  return (\n    <Grid container direction=\"column\" spacing={2}>\n      <Grid item>\n        <Grid container spacing={1}>\n          <Grid item>\n            <Select value={book} onChange={handleBookChange}>\n              {cannonArr.map(book => (\n                <MenuItem key={book} value={book}>\n                  {book}\n                </MenuItem>\n              ))}\n            </Select>\n          </Grid>\n          <Grid item>\n            <Select value={chapter} onChange={handleChapterChange}>\n              {Object.keys(esv[book])\n                .sort((i, j) => i - j)\n                .map(chapter => (\n                  <MenuItem key={chapter} value={chapter}>\n                    {chapter}\n                  </MenuItem>\n                ))}\n            </Select>\n          </Grid>\n          <Grid item>\n            <Select\n              value={verses}\n              onChange={handleVersesChange}\n              renderValue={values => {\n                if (!values.length) {\n                  return 'Select a verse';\n                } else if (values.length === 1) {\n                  return values[0];\n                } else {\n                  return values\n                    .sort((i, j) => i - j)\n                    .reduce((acc, value) => {\n                      if (\n                        !acc.length ||\n                        parseInt(value) !== parseInt(acc[acc.length - 1][1]) + 1\n                      ) {\n                        return [...acc, [value, value]];\n                      } else {\n                        return [\n                          ...acc.slice(0, -1),\n                          [acc[acc.length - 1][0], value],\n                        ];\n                      }\n                    }, [])\n                    .map(arrayedVerse =>\n                      (arrayedVerse[0] === arrayedVerse[1]\n                        ? arrayedVerse.slice(1)\n                        : arrayedVerse\n                      ).join(' - ')\n                    )\n                    .join('; ');\n                }\n              }}\n              multiple\n              displayEmpty\n            >\n              <MenuItem key=\"0\" value=\"0\">\n                All\n              </MenuItem>\n              {Object.keys(esv[book][chapter])\n                .sort((i, j) => i - j)\n                .map(verse => (\n                  <MenuItem key={verse} value={verse}>\n                    {verse}\n                  </MenuItem>\n                ))}\n            </Select>\n          </Grid>\n        </Grid>\n      </Grid>\n      <Grid item>\n        {verses.length ? (\n          verses.map(verse => (\n            <Verse\n              key={`${book}${chapter}:${verse}`}\n              book={book}\n              chapter={chapter}\n              verse={verse}\n              handleVerseClick={handleVerseClick}\n            />\n          ))\n        ) : (\n          <span>Please select a verse</span>\n        )}\n      </Grid>\n      <Grid item>\n        {RenderedView && (\n          <RenderedView book={book} chapter={chapter} verses={verses} />\n        )}\n      </Grid>\n    </Grid>\n  );\n};\n","import React from 'react';\n\nimport { Popover, ButtonGroup, Button } from '@material-ui/core';\n\nexport const Popupmenu = ({\n  anchorEl,\n  handleClosePopupMenu,\n  handleOpenCrossReferenceDialog,\n}) => {\n  const handleClickCrossReference = () => {\n    handleClosePopupMenu();\n    handleOpenCrossReferenceDialog();\n  };\n  \n  return (\n    <Popover\n      open={Boolean(anchorEl)}\n      anchorEl={anchorEl}\n      onClose={handleClosePopupMenu}\n      anchorOrigin={{\n        vertical: 'top',\n        horizontal: 'center',\n      }}\n      transformOrigin={{\n        vertical: 'bottom',\n        horizontal: 'center',\n      }}\n    >\n      <ButtonGroup size=\"small\" color=\"primary\">\n        <Button>Highlight</Button>\n        <Button onClick={handleClickCrossReference}>Cross-reference</Button>\n        <Button>Copy</Button>\n      </ButtonGroup>\n    </Popover>\n  );\n};\n","import { cannonDict } from './consts';\n\nexport const removeDuplicate = (item, index, array) =>\n  array.indexOf(item) === index;\n\nexport const flatMapBibleObjectTree = (tree, func) =>\n  Object.keys(tree)\n    .sort((i, j) => cannonDict[i] - cannonDict[j])\n    .reduce((accumulatedBooks, book) => {\n      const bookTree = tree[book];\n      return [\n        ...accumulatedBooks,\n        ...Object.keys(bookTree)\n          .sort((i, j) => i - j)\n          .reduce((acc2, chapter) => {\n            const chapterTree = bookTree[chapter];\n            return [\n              ...acc2,\n              ...chapterTree\n                .sort((i, j) => i - j)\n                .map(verse => func({ book, chapter, verse })),\n            ];\n          }, []),\n      ];\n    }, []);\n\nexport const mapToVerseAddress = ({ book, chapter, verse }) => ({\n  book,\n  chapter,\n  verse,\n});\n","import React from 'react';\nimport {\n  Dialog,\n  DialogContent,\n  Button,\n  Select,\n  MenuItem,\n  Card,\n  Grid,\n  CardHeader,\n  CardContent,\n  IconButton,\n  TextField,\n  ListSubheader,\n} from '@material-ui/core';\nimport { Close as CloseIcon } from '@material-ui/icons';\n\nimport { VersesSelector } from './VerseSelector';\nimport { Verse, VerseWithHeading, VerseWithRangedHeading } from './Verse';\n\nimport {\n  flatMapBibleObjectTree,\n  removeDuplicate,\n  mapToVerseAddress,\n} from './utils';\nimport { NEW_DEFAULT_TOPIC, NEW_CUSTOM_TOPIC } from './consts';\n\nconst ConfirmButton = (topic, handleCrossReference) => ({\n  book,\n  chapter,\n  verses,\n}) => {\n  const handleOnClick = () => {\n    handleCrossReference(topic);\n  };\n\n  return <Button onClick={handleOnClick}>Confirm</Button>;\n};\n\nconst CrossReferenceDialogContent = ({\n  referredVersesAddress,\n  handleCrossReference,\n  handleReferredVersesChange,\n  handleDeleteCrossReference,\n  handleDeleteTopic,\n  handleRenameTopic,\n  topicsFromReferrer,\n  topicsFromReferred,\n  crossReferencesByReferrer,\n}) => {\n  const [isSelectorOpen, setIsSelectorOpen] = React.useState(false);\n  const [topic, setTopic] = React.useState(NEW_DEFAULT_TOPIC);\n  const [customTopic, setCustomTopic] = React.useState('');\n  const [isTopicTextFieldOpen, setIsTopicTextFieldOpen] = React.useState(false);\n\n  const { book, chapter, verses } = referredVersesAddress;\n\n  const handleOpenSelector = () => {\n    setIsSelectorOpen(true);\n  };\n\n  const handleCloseSelector = () => {\n    setIsSelectorOpen(false);\n  };\n\n  const handleTopicChange = e => {\n    const newTopic = e.target.value;\n\n    setTopic(newTopic);\n    if (newTopic === NEW_CUSTOM_TOPIC) {\n      setIsTopicTextFieldOpen(true);\n      setCustomTopic('');\n    } else {\n      setIsTopicTextFieldOpen(false);\n    }\n  };\n\n  const handleCustomTopicChange = e => {\n    const newCustomTopic = e.target.value;\n\n    setCustomTopic(newCustomTopic);\n  };\n\n  const handleVersesAddressChange = versesAddress => {\n    handleReferredVersesChange(versesAddress);\n\n    if (\n      topic !== NEW_DEFAULT_TOPIC &&\n      topic !== NEW_CUSTOM_TOPIC &&\n      !topicsFromReferrer.includes(topic)\n    ) {\n      setTopic(NEW_DEFAULT_TOPIC);\n      setIsTopicTextFieldOpen(false);\n    }\n  };\n\n  return (\n    <DialogContent>\n      <Grid\n        container\n        direction=\"column\"\n        justify=\"flex-start\"\n        alignItems=\"stretch\"\n        spacing={2}\n      >\n        {crossReferencesByReferrer.map(crossReferences => {\n          const { topic, content } = crossReferences;\n\n          const handleVerseClick = (_e, verseAddress) => {\n            if (topic !== NEW_DEFAULT_TOPIC && topic !== NEW_CUSTOM_TOPIC) {\n              setTopic(NEW_DEFAULT_TOPIC);\n              setIsTopicTextFieldOpen(false);\n            }\n            handleDeleteCrossReference(topic, verseAddress);\n          };\n\n          const handleCloseClick = () => {\n            if (topic !== NEW_DEFAULT_TOPIC && topic !== NEW_CUSTOM_TOPIC) {\n              setTopic(NEW_DEFAULT_TOPIC);\n              setIsTopicTextFieldOpen(false);\n            }\n            handleDeleteTopic(topic);\n          };\n\n          return (\n            <Grid item key={topic}>\n              <Card>\n                <CardHeader\n                  title={\n                    <TextField\n                      defaultValue={topic}\n                      onKeyPress={e => {\n                        if (e.key === 'Enter') {\n                          handleRenameTopic(topic, e.target.value);\n                        }\n                      }}\n                    />\n                  }\n                  subheader=\"Press Enter to rename\"\n                  action={\n                    <IconButton onClick={handleCloseClick}>\n                      <CloseIcon />\n                    </IconButton>\n                  }\n                />\n                <CardContent>\n                  {\n                    flatMapBibleObjectTree(content, mapToVerseAddress).reduce(\n                      (\n                        acc,\n                        { book, chapter, verse },\n                        index,\n                        verseAddresses\n                      ) => {\n                        if (index > 0) {\n                          const previousIndex = index - 1;\n                          const {\n                            book: previousBook,\n                            chapter: previousChapter,\n                            verse: previousVerse,\n                          } = verseAddresses[previousIndex];\n                          if (\n                            book === previousBook &&\n                            chapter === previousChapter &&\n                            parseInt(verse) === parseInt(previousVerse) + 1\n                          ) {\n                            const {\n                              startVerseIndex,\n                              startVerse,\n                              componentArray,\n                            } = acc;\n                            const newComponentArray = [\n                              ...componentArray.slice(0, startVerseIndex),\n                              <VerseWithRangedHeading\n                                key={`${book}${chapter}:${startVerse}`}\n                                book={book}\n                                chapter={chapter}\n                                startVerse={startVerse}\n                                endVerse={verse}\n                                handleVerseClick={handleVerseClick}\n                              />,\n                              ...componentArray.slice(\n                                startVerseIndex + 1,\n                                index\n                              ),\n                              <Verse\n                                key={`${book}${chapter}:${verse}`}\n                                book={book}\n                                chapter={chapter}\n                                verse={verse}\n                                handleVerseClick={handleVerseClick}\n                              />,\n                            ];\n\n                            return {\n                              startVerseIndex,\n                              startVerse,\n                              componentArray: newComponentArray,\n                            };\n                          }\n                        }\n\n                        const { componentArray } = acc;\n                        const newComponentArray = [\n                          ...componentArray,\n                          <VerseWithHeading\n                            key={`${book}${chapter}:${verse}`}\n                            book={book}\n                            chapter={chapter}\n                            verse={verse}\n                            handleVerseClick={handleVerseClick}\n                          />,\n                        ];\n\n                        return {\n                          startVerseIndex: index,\n                          startVerse: verse,\n                          componentArray: newComponentArray,\n                        };\n                      },\n                      { startVerseIndex: 0, startVerse: 0, componentArray: [] }\n                    ).componentArray\n                  }\n                </CardContent>\n              </Card>\n            </Grid>\n          );\n        })}\n        <Grid item>\n          {isSelectorOpen ? (\n            <Card>\n              <CardHeader\n                title=\"New Reference\"\n                subheader=\"Select topic and verses\"\n                action={\n                  <IconButton onClick={handleCloseSelector}>\n                    <CloseIcon />\n                  </IconButton>\n                }\n              />\n              <CardContent>\n                <Grid container direction=\"column\" spacing={2}>\n                  <Grid item>\n                    <Grid container spacing={1}>\n                      <Grid item>\n                        <Select value={topic} onChange={handleTopicChange}>\n                          <MenuItem value={NEW_DEFAULT_TOPIC}>\n                            Auto-generate topic\n                          </MenuItem>\n                          <MenuItem value={NEW_CUSTOM_TOPIC}>\n                            Custom topic\n                          </MenuItem>\n                          <ListSubheader>Available topics</ListSubheader>\n                          {[...topicsFromReferrer, ...topicsFromReferred]\n                            .filter(removeDuplicate)\n                            .map(topicOption => (\n                              <MenuItem key={topicOption} value={topicOption}>\n                                {topicOption}\n                              </MenuItem>\n                            ))}\n                        </Select>\n                      </Grid>\n                      <Grid item>\n                        {isTopicTextFieldOpen && (\n                          <TextField\n                            placeholder=\"Type here\"\n                            value={customTopic}\n                            onChange={handleCustomTopicChange}\n                          />\n                        )}\n                      </Grid>\n                    </Grid>\n                  </Grid>\n                  <Grid item>\n                    <VersesSelector\n                      initialBook={book}\n                      initialChapter={chapter}\n                      initialVerses={verses}\n                      handleVerseClick={() => {}}\n                      handleVersesAddressChange={handleVersesAddressChange}\n                      buttonRender={ConfirmButton(\n                        topic === NEW_DEFAULT_TOPIC\n                          ? new Date().getTime().toString()\n                          : topic === NEW_CUSTOM_TOPIC\n                          ? !customTopic\n                            ? 'Empty topic ' + new Date().getTime().toString()\n                            : customTopic\n                          : topic,\n                        handleCrossReference\n                      )}\n                    />\n                  </Grid>\n                </Grid>\n              </CardContent>\n            </Card>\n          ) : (\n            <Button variant=\"text\" onClick={handleOpenSelector} fullWidth>\n              Add Reference\n            </Button>\n          )}\n        </Grid>\n      </Grid>\n    </DialogContent>\n  );\n};\n\nexport const CrossReferenceDialog = ({\n  open,\n  handleCloseCrossReferenceDialog,\n  ...contentProps\n}) => (\n  <Dialog open={open} onClose={handleCloseCrossReferenceDialog}>\n    <CrossReferenceDialogContent {...contentProps} />\n  </Dialog>\n);\n","import React from 'react';\n\nimport { VersesSelector } from './VerseSelector';\nimport { Popupmenu } from './PopupMenu';\nimport { CrossReferenceDialog } from './CrossReferenceDialog';\n\nimport { removeDuplicate, flatMapBibleObjectTree } from './utils';\nimport { Button, Container } from '@material-ui/core';\n\nexport const App = () => {\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const [isDialogOpen, setIsDialogOpen] = React.useState(false);\n\n  const [referrerVerseAddress, setReferrerVerseAddress] = React.useState({});\n  const [referredVersesAddress, setReferredVersesAddress] = React.useState({});\n  const {\n    book: referrerBook,\n    chapter: referrerChapter,\n    verse: referrerVerse,\n  } = referrerVerseAddress;\n  const {\n    book: referredBook,\n    chapter: referredChapter,\n    verses: referredVerses,\n  } = referredVersesAddress;\n\n  const [crossReferencesByTopic, setCrossReferencesByTopic] = React.useState(\n    JSON.parse(localStorage.getItem('cfByTopic') || '{}')\n  );\n  const [crossReferencesByVerse, setCrossReferencesByVerse] = React.useState(\n    JSON.parse(localStorage.getItem('cfByVerse') || '{}')\n  );\n  const handleLocalStorage = () => {\n    localStorage.setItem('cfByVerse', JSON.stringify(crossReferencesByVerse));\n    localStorage.setItem('cfByTopic', JSON.stringify(crossReferencesByTopic));\n  };\n\n  const handleOpenPopupMenu = e => {\n    setAnchorEl(e.currentTarget);\n  };\n\n  const handleClosePopupMenu = () => {\n    setAnchorEl(null);\n  };\n\n  const handleOpenCrossReferenceDialog = () => {\n    setIsDialogOpen(true);\n  };\n\n  const handleCloseCrossReferenceDialog = () => {\n    setIsDialogOpen(false);\n  };\n\n  const handleReferrerVerseClick = (e, verseAddress) => {\n    const { book, chapter, verse } = verseAddress;\n\n    handleOpenPopupMenu(e);\n    setReferrerVerseAddress(verseAddress);\n    setReferredVersesAddress({ book, chapter, verses: [verse] });\n  };\n\n  const handleReferredVersesChange = versesAddress => {\n    setReferredVersesAddress(versesAddress);\n  };\n\n  const handleCrossReference = topic => {\n    //cfByTopic\n    const newCrossReferencesByTopic = { ...crossReferencesByTopic };\n\n    newCrossReferencesByTopic[topic] = {\n      ...(newCrossReferencesByTopic[topic] || {}),\n    };\n\n    newCrossReferencesByTopic[topic][referrerBook] = {\n      ...(newCrossReferencesByTopic[topic][referrerBook] || {}),\n    };\n    newCrossReferencesByTopic[topic][referrerBook][referrerChapter] = [\n      ...(newCrossReferencesByTopic[topic][referrerBook][referrerChapter] ||\n        []),\n      referrerVerse,\n    ].filter(removeDuplicate);\n\n    newCrossReferencesByTopic[topic][referredBook] = {\n      ...(newCrossReferencesByTopic[topic][referredBook] || {}),\n    };\n\n    newCrossReferencesByTopic[topic][referredBook][referredChapter] = [\n      ...(newCrossReferencesByTopic[topic][referredBook][referredChapter] ||\n        []),\n      ...referredVerses,\n    ].filter(removeDuplicate);\n\n    setCrossReferencesByTopic(newCrossReferencesByTopic);\n\n    //cfByVerse\n    const newCrossReferencesByVerse = { ...crossReferencesByVerse };\n\n    newCrossReferencesByVerse[referrerBook] = {\n      ...(newCrossReferencesByVerse[referrerBook] || {}),\n    };\n    newCrossReferencesByVerse[referrerBook][referrerChapter] = {\n      ...(newCrossReferencesByVerse[referrerBook][referrerChapter] || {}),\n    };\n    newCrossReferencesByVerse[referrerBook][referrerChapter][referrerVerse] = [\n      ...(newCrossReferencesByVerse[referrerBook][referrerChapter][\n        referrerVerse\n      ] || []),\n      topic,\n    ].filter(removeDuplicate);\n\n    newCrossReferencesByVerse[referredBook] = {\n      ...(newCrossReferencesByVerse[referredBook] || {}),\n    };\n    newCrossReferencesByVerse[referredBook][referredChapter] = {\n      ...(newCrossReferencesByVerse[referredBook][referredChapter] || {}),\n    };\n\n    referredVerses.forEach(referredVerse => {\n      newCrossReferencesByVerse[referredBook][referredChapter][\n        referredVerse\n      ] = [\n        ...(newCrossReferencesByVerse[referredBook][referredChapter][\n          referredVerse\n        ] || []),\n        topic,\n      ].filter(removeDuplicate);\n    });\n\n    setCrossReferencesByVerse(newCrossReferencesByVerse);\n  };\n\n  const handleDeleteCrossReference = (topic, verseAddress) => {\n    const { book, chapter, verse } = verseAddress;\n\n    //cfByTopic\n    const newCrossReferencesByTopic = { ...crossReferencesByTopic };\n    const topicContent = newCrossReferencesByTopic[topic];\n    const mappedTopicContent = flatMapBibleObjectTree(\n      topicContent,\n      ({book, chapter, verse}) => ({\n        book,\n        chapter,\n        verse,\n      })\n    );\n\n    if (mappedTopicContent.length === 1) {\n      delete newCrossReferencesByTopic[topic];\n    } else {\n      const verseNumberListByVerse = topicContent[book][chapter];\n      const verseIndex = verseNumberListByVerse.indexOf(verse);\n      verseNumberListByVerse.splice(verseIndex, 1);\n    }\n\n    setCrossReferencesByTopic(newCrossReferencesByTopic);\n\n    //cfByVerse\n    const newCrossReferencesByVerse = { ...crossReferencesByVerse };\n\n    const topicListByVerse = newCrossReferencesByVerse[book][chapter][verse];\n    const topicIndex = topicListByVerse.indexOf(topic);\n    topicListByVerse.splice(topicIndex, 1);\n\n    setCrossReferencesByVerse(newCrossReferencesByVerse);\n  };\n\n  const handleDeleteTopic = topic => {\n    //cfByTopic\n    const newCrossReferencesByTopic = { ...crossReferencesByTopic };\n    const topicContent = newCrossReferencesByTopic[topic];\n    delete newCrossReferencesByTopic[topic];\n\n    setCrossReferencesByTopic(newCrossReferencesByTopic);\n\n    //cfByVerse\n    const newCrossReferencesByVerse = { ...crossReferencesByVerse };\n    const mappedTopicContent = flatMapBibleObjectTree(\n      topicContent,\n      ({book, chapter, verse}) => ({\n        book,\n        chapter,\n        verse,\n      })\n    );\n\n    mappedTopicContent.forEach(verseAddress => {\n      const { book, chapter, verse } = verseAddress;\n\n      const topicListByVerse = newCrossReferencesByVerse[book][chapter][verse];\n      const topicIndex = topicListByVerse.indexOf(topic);\n      topicListByVerse.splice(topicIndex, 1);\n    });\n\n    setCrossReferencesByVerse(newCrossReferencesByVerse);\n  };\n\n  const handleRenameTopic = (oldTopicName, newTopicName) => {\n    if (!crossReferencesByTopic[newTopicName]) {\n      //cfByTopic\n      const newCrossReferencesByTopic = { ...crossReferencesByTopic };\n      const topicContent = newCrossReferencesByTopic[oldTopicName];\n\n      newCrossReferencesByTopic[newTopicName] = {\n        ...newCrossReferencesByTopic[oldTopicName],\n      };\n      delete newCrossReferencesByTopic[oldTopicName];\n\n      setCrossReferencesByTopic(newCrossReferencesByTopic);\n\n      //cfByVerse\n      const newCrossReferencesByVerse = { ...crossReferencesByVerse };\n      const mappedTopicContent = flatMapBibleObjectTree(\n        topicContent,\n        ({book, chapter, verse}) => ({\n          book,\n          chapter,\n          verse,\n        })\n      );\n\n      mappedTopicContent.forEach(verseAddress => {\n        const { book, chapter, verse } = verseAddress;\n\n        const topicListByVerse =\n          newCrossReferencesByVerse[book][chapter][verse];\n        const topicIndex = topicListByVerse.indexOf(oldTopicName);\n        topicListByVerse[topicIndex] = newTopicName;\n      });\n\n      setCrossReferencesByVerse(newCrossReferencesByVerse);\n    }\n  };\n\n  return (\n    <Container>\n      <Button onClick={handleLocalStorage}>Save</Button>\n      <VersesSelector\n        handleVerseClick={handleReferrerVerseClick}\n        handleVersesAddressChange={() => {}}\n      />\n      <Popupmenu\n        anchorEl={anchorEl}\n        handleClosePopupMenu={handleClosePopupMenu}\n        handleOpenCrossReferenceDialog={handleOpenCrossReferenceDialog}\n      />\n      <CrossReferenceDialog\n        open={isDialogOpen}\n        handleCloseCrossReferenceDialog={handleCloseCrossReferenceDialog}\n        referredVersesAddress={referredVersesAddress}\n        handleCrossReference={handleCrossReference}\n        handleReferredVersesChange={handleReferredVersesChange}\n        handleDeleteCrossReference={handleDeleteCrossReference}\n        handleDeleteTopic={handleDeleteTopic}\n        handleRenameTopic={handleRenameTopic}\n        topicsFromReferrer={\n          (crossReferencesByVerse &&\n            crossReferencesByVerse[referrerBook] &&\n            crossReferencesByVerse[referrerBook][referrerChapter] &&\n            crossReferencesByVerse[referrerBook][referrerChapter][\n              referrerVerse\n            ]) ||\n          []\n        }\n        topicsFromReferred={(referredVerses || []).reduce(\n          (acc, referredVerse) => [\n            ...acc,\n            ...((crossReferencesByVerse &&\n              crossReferencesByVerse[referredBook] &&\n              crossReferencesByVerse[referredBook][referredChapter] &&\n              crossReferencesByVerse[referredBook][referredChapter][\n                referredVerse\n              ]) ||\n              []),\n          ],\n\n          []\n        )}\n        crossReferencesByReferrer={(\n          (crossReferencesByVerse &&\n            crossReferencesByVerse[referrerBook] &&\n            crossReferencesByVerse[referrerBook][referrerChapter] &&\n            crossReferencesByVerse[referrerBook][referrerChapter][\n              referrerVerse\n            ]) ||\n          []\n        ).map(topic => ({ topic, content: crossReferencesByTopic[topic] }))}\n      />\n    </Container>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { CssBaseline } from '@material-ui/core';\n\nimport App from './App';\n\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <CssBaseline />\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}