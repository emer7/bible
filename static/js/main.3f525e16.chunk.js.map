{"version":3,"sources":["Verse.js","consts.js","VerseSelector.js","PopupMenu.js","utils.js","CrossReference.js","App.js","serviceWorker.js","index.js"],"names":["SpanWithPointer","styled","highlight","isClicked","props","cursor","DivWithBold","Verse","book","chapter","verse","handleVerseClick","onClick","e","esv","VerseWithHeading","VerseWithRangedHeading","startVerse","endVerse","OTArr","NTArr","cannonDict","Genesis","Exodus","Leviticus","Numbers","Deuteronomy","Joshua","Judges","Ruth","Ezra","Nehemiah","Esther","Job","Psalms","Proverbs","Ecclesiastes","Isaiah","Jeremiah","Lamentations","Ezekiel","Daniel","Hosea","Joel","Amos","Obadiah","Jonah","Micah","Nahum","Habakkuk","Zephaniah","Haggai","Zechariah","Malachi","Matthew","Mark","Luke","John","Acts","Romans","Galatians","Ephesians","Philippians","Colossians","Titus","Philemon","Hebrews","James","Jude","Revelation","InvisibleScrollablePanel","overflowY","display","VersesSelector","initialBook","initialChapter","initialVerses","clickedVerseAddress","highlightsByVerse","handleVersesAddressChange","RenderedButton","buttonRender","useState","isFirstVerseSelection","setIsFirstVerseSelection","isOpen","setIsOpen","setBook","setChapter","verses","setVerses","Grid","container","direction","spacing","item","Select","value","onChange","target","MenuItem","disabled","map","key","Object","keys","sort","i","j","open","onOpen","onClose","selectedVerses","includes","allVerses","selectedVersesWithoutFirstSelection","filter","selectedVerse","renderValue","values","length","reduce","acc","parseInt","slice","arrayedVerse","join","multiple","displayEmpty","Popupmenu","anchorEl","handleClosePopupMenu","handleOpenCrossReference","handleSetReferrerAndReferred","handleSetHighlight","Popover","Boolean","anchorOrigin","vertical","horizontal","transformOrigin","ButtonGroup","size","color","Button","removeDuplicate","index","array","indexOf","flatMapBibleObjectTree","tree","func","accumulatedBooks","bookTree","acc2","chapterTree","mapToVerseAddress","ConfirmButton","topic","handleCrossReference","CrossReferenceContent","referredVersesAddress","handleReferredVersesChange","handleDeleteCrossReference","handleDeleteTopic","handleRenameTopic","topicsFromReferrer","topicsFromReferred","crossReferencesByReferrer","React","isSelectorOpen","setIsSelectorOpen","setTopic","customTopic","setCustomTopic","isTopicTextFieldOpen","setIsTopicTextFieldOpen","justify","alignItems","crossReferences","content","_e","verseAddress","Card","CardHeader","title","TextField","defaultValue","onKeyPress","subheader","action","IconButton","Close","CardContent","verseAddresses","previousBook","previousChapter","previousVerse","startVerseIndex","componentArray","newTopic","topicOption","placeholder","newCustomTopic","versesAddress","Date","getTime","toString","variant","fullWidth","height","margin","padding","InvisibleScrollablePopup","outline","CrossReference","handleCloseCrossReference","fullScreen","contentProps","Modal","xs","sm","md","App","theme","useTheme","useMediaQuery","breakpoints","down","setAnchorEl","isCrossReferenceOpen","setIsCrossReferenceOpen","setClickedVerseAddress","referrerVerseAddress","setReferrerVerseAddress","setReferredVersesAddress","referrerBook","referrerChapter","referrerVerse","referredBook","referredChapter","referredVerses","localStorage","getItem","JSON","parse","laiCfByTopic","crossReferencesByTopic","setCrossReferencesByTopic","laiCfByVerse","crossReferencesByVerse","setCrossReferencesByVerse","setHighlightsByVerse","newHighlightsByVerse","Container","setItem","stringify","currentTarget","handleOpenPopupMenu","newCrossReferencesByTopic","newCrossReferencesByVerse","forEach","referredVerse","topicContent","verseNumberListByVerse","verseIndex","splice","topicListByVerse","topicIndex","oldTopicName","newTopicName","window","location","hostname","match","ReactDOM","render","StrictMode","CssBaseline","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.3f525e16.chunk.js","sourcesContent":["import React from 'react';\nimport { styled } from '@material-ui/core';\n\nimport esv from './resources/ESV.json';\n\nconst SpanWithPointer = styled(({ highlight, isClicked, ...props }) => (\n  <span {...props} />\n))({\n  'border-bottom': ({ isClicked }) => (isClicked ? 'dotted black' : 'none'),\n  'background-color': ({ highlight }) => (highlight ? 'yellow' : 'none'),\n  cursor: 'pointer',\n});\n\nconst DivWithBold = styled('div')({ 'font-weight': 'bold' });\n\nexport const Verse = ({\n  book,\n  chapter,\n  verse,\n  handleVerseClick = () => {},\n  highlight,\n  isClicked,\n}) => {\n  const handleOnClick = e => {\n    handleVerseClick(e, { book, chapter, verse });\n  };\n\n  return (\n    <SpanWithPointer\n      highlight={highlight}\n      onClick={handleOnClick}\n      isClicked={isClicked}\n    >\n      <sup>{verse}</sup>\n      <span>\n        {esv[book][chapter][verse]}\n        {' ' /* remove, use CSS instead */}\n      </span>\n    </SpanWithPointer>\n  );\n};\n\nexport const VerseWithHeading = ({ book, chapter, verse, ...props }) => {\n  return (\n    <>\n      <DivWithBold>\n        {book} {chapter}:{verse}\n      </DivWithBold>\n      <Verse book={book} chapter={chapter} verse={verse} {...props} />\n    </>\n  );\n};\n\nexport const VerseWithRangedHeading = ({\n  book,\n  chapter,\n  startVerse,\n  endVerse,\n  ...props\n}) => {\n  return (\n    <>\n      <DivWithBold>\n        {book} {chapter}:{startVerse} - {endVerse}\n      </DivWithBold>\n      <Verse book={book} chapter={chapter} verse={startVerse} {...props} />\n    </>\n  );\n};\n","export const OTArr = [\n  'Genesis',\n  'Exodus',\n  'Leviticus',\n  'Numbers',\n  'Deuteronomy',\n  'Joshua',\n  'Judges',\n  'Ruth',\n  '1 Samuel',\n  '2 Samuel',\n  '1 Kings',\n  '2 Kings',\n  '1 Chronicles',\n  '2 Chronicles',\n  'Ezra',\n  'Nehemiah',\n  'Esther',\n  'Job',\n  'Psalms',\n  'Proverbs',\n  'Ecclesiastes',\n  'Song of Solomon',\n  'Isaiah',\n  'Jeremiah',\n  'Lamentations',\n  'Ezekiel',\n  'Daniel',\n  'Hosea',\n  'Joel',\n  'Amos',\n  'Obadiah',\n  'Jonah',\n  'Micah',\n  'Nahum',\n  'Habakkuk',\n  'Zephaniah',\n  'Haggai',\n  'Zechariah',\n  'Malachi',\n];\n\nexport const NTArr = [\n  'Matthew',\n  'Mark',\n  'Luke',\n  'John',\n  'Acts',\n  'Romans',\n  '1 Corinthians',\n  '2 Corinthians',\n  'Galatians',\n  'Ephesians',\n  'Philippians',\n  'Colossians',\n  '1 Thessalonians',\n  '2 Thessalonians',\n  '1 Timothy',\n  '2 Timothy',\n  'Titus',\n  'Philemon',\n  'Hebrews',\n  'James',\n  '1 Peter',\n  '2 Peter',\n  '1 John',\n  '2 John',\n  '3 John',\n  'Jude',\n  'Revelation',\n];\n\nexport const OTDict = {\n  Genesis: 1,\n  Exodus: 2,\n  Leviticus: 3,\n  Numbers: 4,\n  Deuteronomy: 5,\n  Joshua: 6,\n  Judges: 7,\n  Ruth: 8,\n  '1 Samuel': 9,\n  '2 Samuel': 10,\n  '1 Kings': 11,\n  '2 Kings': 12,\n  '1 Chronicles': 13,\n  '2 Chronicles': 14,\n  Ezra: 15,\n  Nehemiah: 16,\n  Esther: 17,\n  Job: 18,\n  Psalms: 19,\n  Proverbs: 20,\n  Ecclesiastes: 21,\n  'Song of Solomon': 22,\n  Isaiah: 23,\n  Jeremiah: 24,\n  Lamentations: 25,\n  Ezekiel: 26,\n  Daniel: 27,\n  Hosea: 28,\n  Joel: 29,\n  Amos: 30,\n  Obadiah: 31,\n  Jonah: 32,\n  Micah: 33,\n  Nahum: 34,\n  Habakkuk: 35,\n  Zephaniah: 36,\n  Haggai: 37,\n  Zechariah: 38,\n  Malachi: 39,\n};\n\nexport const NTDict = {\n  Matthew: 40,\n  Mark: 41,\n  Luke: 42,\n  John: 43,\n  Acts: 44,\n  Romans: 45,\n  '1 Corinthians': 46,\n  '2 Corinthians': 47,\n  Galatians: 48,\n  Ephesians: 49,\n  Philippians: 50,\n  Colossians: 51,\n  '1 Thessalonians': 52,\n  '2 Thessalonians': 53,\n  '1 Timothy': 54,\n  '2 Timothy': 55,\n  Titus: 56,\n  Philemon: 57,\n  Hebrews: 58,\n  James: 59,\n  '1 Peter': 60,\n  '2 Peter': 61,\n  '1 John': 62,\n  '2 John': 63,\n  '3 John': 64,\n  Jude: 65,\n  Revelation: 66,\n};\n\nexport const cannonArr = [...OTArr, ...NTArr];\nexport const cannonDict = { ...OTDict, ...NTDict };\n\nexport const NEW_DEFAULT_TOPIC = 'NEW_DEFAULT_TOPIC';\nexport const NEW_CUSTOM_TOPIC = 'NEW_CUSTOM_TOPIC';\n","import React, { useState } from 'react';\nimport { Select, MenuItem, Grid, styled } from '@material-ui/core';\n\nimport { Verse } from './Verse';\n\nimport esv from './resources/ESV.json';\n\nimport { NTArr, OTArr } from './consts';\n\nconst InvisibleScrollablePanel = styled('div')({\n  'max-height': 'calc(100vh - 52px - 16px - 84px)',\n  overflowY: 'auto',\n  '&::-webkit-scrollbar': {\n    display: 'none',\n  },\n  '-ms-overflow-style': 'none',\n  'scrollbar-width': 'none',\n});\n\nexport const VersesSelector = ({\n  initialBook,\n  initialChapter,\n  initialVerses,\n  clickedVerseAddress = {},\n  highlightsByVerse = {},\n  handleVerseClick,\n  handleVersesAddressChange = () => {},\n  buttonRender: RenderedButton,\n}) => {\n  const [isFirstVerseSelection, setIsFirstVerseSelection] = useState(true);\n  const [isOpen, setIsOpen] = useState(false);\n  const [book, setBook] = useState(initialBook || 'Genesis');\n  const [chapter, setChapter] = useState(initialChapter || '1');\n  const [verses, setVerses] = useState(initialVerses || ['1']);\n\n  const handleBookChange = e => {\n    setBook(e.target.value);\n    setChapter('1');\n    setVerses(['1']);\n    handleVersesAddressChange({\n      book: e.target.value,\n      chapter: '1',\n      verses: ['1'],\n    });\n    setIsFirstVerseSelection(true);\n  };\n\n  const handleChapterChange = e => {\n    setChapter(e.target.value);\n    setVerses(['1']);\n    handleVersesAddressChange({\n      book,\n      chapter: e.target.value,\n      verses: ['1'],\n    });\n    setIsFirstVerseSelection(true);\n  };\n\n  const handleVersesChange = e => {\n    const selectedVerses = e.target.value;\n\n    if (selectedVerses.includes('-1')) {\n      setVerses([]);\n      handleVersesAddressChange({\n        book,\n        chapter,\n        verses: [],\n      });\n      setIsFirstVerseSelection(true);\n      setIsOpen(false);\n    } else if (selectedVerses.includes('0')) {\n      const allVerses = Object.keys(esv[book][chapter]).sort((i, j) => i - j);\n\n      setVerses(allVerses);\n      handleVersesAddressChange({\n        book,\n        chapter,\n        verses: allVerses,\n      });\n      setIsFirstVerseSelection(false);\n      setIsOpen(false);\n    } else if (isFirstVerseSelection) {\n      const selectedVersesWithoutFirstSelection = e.target.value.filter(\n        selectedVerse => selectedVerse !== verses[0]\n      );\n\n      setVerses(selectedVersesWithoutFirstSelection);\n      setIsFirstVerseSelection(false);\n      setIsOpen(false);\n    } else {\n      const selectedVerses = e.target.value.sort((i, j) => i - j);\n\n      setVerses(selectedVerses);\n      handleVersesAddressChange({\n        book,\n        chapter,\n        verses: selectedVerses,\n      });\n    }\n  };\n\n  const handleOpenSelect = () => {\n    setIsOpen(true);\n  };\n\n  const handleCloseSelect = () => {\n    setIsOpen(false);\n  };\n\n  return (\n    <Grid container direction=\"column\" spacing={2}>\n      <Grid item>\n        <Grid container spacing={1}>\n          <Grid item>\n            <Select value={book} onChange={handleBookChange}>\n              <MenuItem disabled>Old Testament</MenuItem>\n              {OTArr.map(book => (\n                <MenuItem key={book} value={book}>\n                  {book}\n                </MenuItem>\n              ))}\n              <MenuItem disabled>New Testament</MenuItem>\n              {NTArr.map(book => (\n                <MenuItem key={book} value={book}>\n                  {book}\n                </MenuItem>\n              ))}\n            </Select>\n          </Grid>\n          <Grid item>\n            <Select value={chapter} onChange={handleChapterChange}>\n              {Object.keys(esv[book])\n                .sort((i, j) => i - j)\n                .map(chapter => (\n                  <MenuItem key={chapter} value={chapter}>\n                    {chapter}\n                  </MenuItem>\n                ))}\n            </Select>\n          </Grid>\n          <Grid item>\n            <Select\n              open={isOpen}\n              value={verses}\n              onOpen={handleOpenSelect}\n              onClose={handleCloseSelect}\n              onChange={handleVersesChange}\n              renderValue={values => {\n                if (!values.length) {\n                  return 'Select a verse';\n                } else if (values.length === 1) {\n                  return values[0];\n                } else {\n                  return values\n                    .sort((i, j) => i - j)\n                    .reduce((acc, value) => {\n                      if (\n                        !acc.length ||\n                        parseInt(value) !== parseInt(acc[acc.length - 1][1]) + 1\n                      ) {\n                        return [...acc, [value, value]];\n                      } else {\n                        return [\n                          ...acc.slice(0, -1),\n                          [acc[acc.length - 1][0], value],\n                        ];\n                      }\n                    }, [])\n                    .map(arrayedVerse =>\n                      (arrayedVerse[0] === arrayedVerse[1]\n                        ? arrayedVerse.slice(1)\n                        : arrayedVerse\n                      ).join(' - ')\n                    )\n                    .join('; ');\n                }\n              }}\n              multiple\n              displayEmpty\n            >\n              {Object.keys(esv[book][chapter]).length === verses.length ? (\n                <MenuItem key=\"-1\" value=\"-1\">\n                  None\n                </MenuItem>\n              ) : (\n                <MenuItem key=\"0\" value=\"0\">\n                  All\n                </MenuItem>\n              )}\n              {Object.keys(esv[book][chapter])\n                .sort((i, j) => i - j)\n                .map(verse => (\n                  <MenuItem key={verse} value={verse}>\n                    {verse}\n                  </MenuItem>\n                ))}\n            </Select>\n          </Grid>\n        </Grid>\n      </Grid>\n      <Grid item>\n        <InvisibleScrollablePanel>\n          {verses.length ? (\n            verses.map(verse => (\n              <Verse\n                key={`${book}${chapter}:${verse}`}\n                book={book}\n                chapter={chapter}\n                verse={verse}\n                highlight={\n                  highlightsByVerse[book] &&\n                  highlightsByVerse[book][chapter] &&\n                  highlightsByVerse[book][chapter].includes(verse)\n                }\n                isClicked={\n                  clickedVerseAddress.book === book &&\n                  clickedVerseAddress.chapter === chapter &&\n                  clickedVerseAddress.verse === verse\n                }\n                handleVerseClick={handleVerseClick}\n              />\n            ))\n          ) : (\n            <span>Please select a verse</span>\n          )}\n        </InvisibleScrollablePanel>\n      </Grid>\n      {RenderedButton && (\n        <Grid item>\n          <RenderedButton book={book} chapter={chapter} verses={verses} />\n        </Grid>\n      )}\n    </Grid>\n  );\n};\n","import React from 'react';\n\nimport { Popover, ButtonGroup, Button } from '@material-ui/core';\n\nexport const Popupmenu = ({\n  anchorEl,\n  handleClosePopupMenu,\n  handleOpenCrossReference,\n  handleSetReferrerAndReferred,\n  handleSetHighlight,\n}) => {\n  const handleClickCrossReference = () => {\n    handleClosePopupMenu();\n    handleOpenCrossReference();\n    handleSetReferrerAndReferred();\n  };\n\n  const handleClickHighlight = () => {\n    handleClosePopupMenu();\n    handleSetHighlight();\n  };\n\n  return (\n    <Popover\n      open={Boolean(anchorEl)}\n      anchorEl={anchorEl}\n      onClose={handleClosePopupMenu}\n      anchorOrigin={{\n        vertical: 'top',\n        horizontal: 'center',\n      }}\n      transformOrigin={{\n        vertical: 'bottom',\n        horizontal: 'center',\n      }}\n    >\n      <ButtonGroup size=\"small\" color=\"primary\">\n        <Button onClick={handleClickHighlight}>Highlight</Button>\n        <Button onClick={handleClickCrossReference}>Cross-reference</Button>\n      </ButtonGroup>\n    </Popover>\n  );\n};\n","import { cannonDict } from './consts';\n\nexport const removeDuplicate = (item, index, array) =>\n  array.indexOf(item) === index;\n\nexport const flatMapBibleObjectTree = (tree, func) =>\n  Object.keys(tree)\n    .sort((i, j) => cannonDict[i] - cannonDict[j])\n    .reduce((accumulatedBooks, book) => {\n      const bookTree = tree[book];\n      return [\n        ...accumulatedBooks,\n        ...Object.keys(bookTree)\n          .sort((i, j) => i - j)\n          .reduce((acc2, chapter) => {\n            const chapterTree = bookTree[chapter];\n            return [\n              ...acc2,\n              ...chapterTree\n                .sort((i, j) => i - j)\n                .map(verse => func({ book, chapter, verse })),\n            ];\n          }, []),\n      ];\n    }, []);\n\nexport const mapToVerseAddress = ({ book, chapter, verse }) => ({\n  book,\n  chapter,\n  verse,\n});\n","import React from 'react';\nimport {\n  Button,\n  Select,\n  MenuItem,\n  Card,\n  Grid,\n  CardHeader,\n  CardContent,\n  IconButton,\n  TextField,\n  Modal,\n} from '@material-ui/core';\nimport { Close as CloseIcon } from '@material-ui/icons';\nimport { styled } from '@material-ui/styles';\n\nimport { VersesSelector } from './VerseSelector';\nimport { Verse, VerseWithHeading, VerseWithRangedHeading } from './Verse';\n\nimport {\n  flatMapBibleObjectTree,\n  removeDuplicate,\n  mapToVerseAddress,\n} from './utils';\nimport { NEW_DEFAULT_TOPIC, NEW_CUSTOM_TOPIC } from './consts';\n\nconst ConfirmButton = (topic, handleCrossReference) => ({\n  book,\n  chapter,\n  verses,\n}) => {\n  const handleOnClick = () => {\n    handleCrossReference(topic);\n  };\n\n  return <Button onClick={handleOnClick}>Confirm</Button>;\n};\n\nconst CrossReferenceContent = ({\n  referredVersesAddress,\n  handleCrossReference,\n  handleReferredVersesChange,\n  handleDeleteCrossReference,\n  handleDeleteTopic,\n  handleRenameTopic,\n  topicsFromReferrer,\n  topicsFromReferred,\n  crossReferencesByReferrer,\n}) => {\n  const [isSelectorOpen, setIsSelectorOpen] = React.useState(false);\n  const [topic, setTopic] = React.useState(NEW_DEFAULT_TOPIC);\n  const [customTopic, setCustomTopic] = React.useState('');\n  const [isTopicTextFieldOpen, setIsTopicTextFieldOpen] = React.useState(false);\n\n  const { book, chapter, verses } = referredVersesAddress;\n\n  const handleOpenSelector = () => {\n    setIsSelectorOpen(true);\n  };\n\n  const handleCloseSelector = () => {\n    setIsSelectorOpen(false);\n  };\n\n  const handleTopicChange = e => {\n    const newTopic = e.target.value;\n\n    setTopic(newTopic);\n    if (newTopic === NEW_CUSTOM_TOPIC) {\n      setIsTopicTextFieldOpen(true);\n      setCustomTopic('');\n    } else {\n      setIsTopicTextFieldOpen(false);\n    }\n  };\n\n  const handleCustomTopicChange = e => {\n    const newCustomTopic = e.target.value;\n\n    setCustomTopic(newCustomTopic);\n  };\n\n  const handleVersesAddressChange = versesAddress => {\n    handleReferredVersesChange(versesAddress);\n\n    if (\n      topic !== NEW_DEFAULT_TOPIC &&\n      topic !== NEW_CUSTOM_TOPIC &&\n      !topicsFromReferrer.includes(topic)\n    ) {\n      setTopic(NEW_DEFAULT_TOPIC);\n      setIsTopicTextFieldOpen(false);\n    }\n  };\n\n  return (\n    <Grid\n      container\n      direction=\"column\"\n      justify=\"flex-start\"\n      alignItems=\"stretch\"\n      spacing={2}\n    >\n      {crossReferencesByReferrer.map(crossReferences => {\n        const { topic, content } = crossReferences;\n\n        const handleVerseClick = (_e, verseAddress) => {\n          if (topic !== NEW_DEFAULT_TOPIC && topic !== NEW_CUSTOM_TOPIC) {\n            setTopic(NEW_DEFAULT_TOPIC);\n            setIsTopicTextFieldOpen(false);\n          }\n          handleDeleteCrossReference(topic, verseAddress);\n        };\n\n        const handleCloseClick = () => {\n          if (topic !== NEW_DEFAULT_TOPIC && topic !== NEW_CUSTOM_TOPIC) {\n            setTopic(NEW_DEFAULT_TOPIC);\n            setIsTopicTextFieldOpen(false);\n          }\n          handleDeleteTopic(topic);\n        };\n\n        return (\n          <Grid item key={topic}>\n            <Card>\n              <CardHeader\n                title={\n                  <TextField\n                    defaultValue={topic}\n                    onKeyPress={e => {\n                      if (e.key === 'Enter') {\n                        handleRenameTopic(topic, e.target.value);\n                      }\n                    }}\n                  />\n                }\n                subheader=\"Press Enter to rename\"\n                action={\n                  <IconButton onClick={handleCloseClick}>\n                    <CloseIcon />\n                  </IconButton>\n                }\n              />\n              <CardContent>\n                {\n                  flatMapBibleObjectTree(\n                    content,\n                    mapToVerseAddress\n                  ).reduce(\n                    (acc, { book, chapter, verse }, index, verseAddresses) => {\n                      if (index > 0) {\n                        const previousIndex = index - 1;\n                        const {\n                          book: previousBook,\n                          chapter: previousChapter,\n                          verse: previousVerse,\n                        } = verseAddresses[previousIndex];\n                        if (\n                          book === previousBook &&\n                          chapter === previousChapter &&\n                          parseInt(verse) === parseInt(previousVerse) + 1\n                        ) {\n                          const {\n                            startVerseIndex,\n                            startVerse,\n                            componentArray,\n                          } = acc;\n                          const newComponentArray = [\n                            ...componentArray.slice(0, startVerseIndex),\n                            <VerseWithRangedHeading\n                              key={`${book}${chapter}:${startVerse}`}\n                              book={book}\n                              chapter={chapter}\n                              startVerse={startVerse}\n                              endVerse={verse}\n                              handleVerseClick={handleVerseClick}\n                            />,\n                            ...componentArray.slice(startVerseIndex + 1, index),\n                            <Verse\n                              key={`${book}${chapter}:${verse}`}\n                              book={book}\n                              chapter={chapter}\n                              verse={verse}\n                              handleVerseClick={handleVerseClick}\n                            />,\n                          ];\n\n                          return {\n                            startVerseIndex,\n                            startVerse,\n                            componentArray: newComponentArray,\n                          };\n                        }\n                      }\n\n                      const { componentArray } = acc;\n                      const newComponentArray = [\n                        ...componentArray,\n                        <VerseWithHeading\n                          key={`${book}${chapter}:${verse}`}\n                          book={book}\n                          chapter={chapter}\n                          verse={verse}\n                          handleVerseClick={handleVerseClick}\n                        />,\n                      ];\n\n                      return {\n                        startVerseIndex: index,\n                        startVerse: verse,\n                        componentArray: newComponentArray,\n                      };\n                    },\n                    { startVerseIndex: 0, startVerse: 0, componentArray: [] }\n                  ).componentArray\n                }\n              </CardContent>\n            </Card>\n          </Grid>\n        );\n      })}\n      <Grid item>\n        {isSelectorOpen ? (\n          <Card>\n            <CardHeader\n              title=\"New Reference\"\n              subheader=\"Select topic and verses\"\n              action={\n                <IconButton onClick={handleCloseSelector}>\n                  <CloseIcon />\n                </IconButton>\n              }\n            />\n            <CardContent>\n              <Grid container direction=\"column\" spacing={2}>\n                <Grid item>\n                  <Grid container spacing={1}>\n                    <Grid item>\n                      <Select value={topic} onChange={handleTopicChange}>\n                        <MenuItem value={NEW_DEFAULT_TOPIC}>\n                          Auto-generate topic\n                        </MenuItem>\n                        <MenuItem value={NEW_CUSTOM_TOPIC}>\n                          Custom topic\n                        </MenuItem>\n                        <MenuItem disabled>Available topics</MenuItem>\n                        {[...topicsFromReferrer, ...topicsFromReferred]\n                          .filter(removeDuplicate)\n                          .map(topicOption => (\n                            <MenuItem key={topicOption} value={topicOption}>\n                              {topicOption}\n                            </MenuItem>\n                          ))}\n                      </Select>\n                    </Grid>\n                    <Grid item>\n                      {isTopicTextFieldOpen && (\n                        <TextField\n                          placeholder=\"Type here\"\n                          value={customTopic}\n                          onChange={handleCustomTopicChange}\n                        />\n                      )}\n                    </Grid>\n                  </Grid>\n                </Grid>\n                <Grid item>\n                  <VersesSelector\n                    initialBook={book}\n                    initialChapter={chapter}\n                    initialVerses={verses}\n                    handleVersesAddressChange={handleVersesAddressChange}\n                    buttonRender={ConfirmButton(\n                      topic === NEW_DEFAULT_TOPIC\n                        ? new Date().getTime().toString()\n                        : topic === NEW_CUSTOM_TOPIC\n                        ? !customTopic\n                          ? 'Empty topic ' + new Date().getTime().toString()\n                          : customTopic\n                        : topic,\n                      handleCrossReference\n                    )}\n                  />\n                </Grid>\n              </Grid>\n            </CardContent>\n          </Card>\n        ) : (\n          <Button variant=\"contained\" onClick={handleOpenSelector} fullWidth>\n            Add Reference\n          </Button>\n        )}\n      </Grid>\n    </Grid>\n  );\n};\n\nconst InvisibleScrollablePanel = styled('div')({\n  height: 'calc(100vh - 36px - 8px - 8px - 8px - 4px + 8px)',\n  margin: '0 -8px -8px -8px',\n  padding: '0 8px',\n  overflowY: 'auto',\n  '&::-webkit-scrollbar': {\n    display: 'none',\n  },\n  '-ms-overflow-style': 'none',\n  'scrollbar-width': 'none',\n});\n\nconst InvisibleScrollablePopup = styled(InvisibleScrollablePanel)({\n  height: '100vh',\n  'max-width': 'min(600px, calc(100vw - 64px))',\n  margin: '0 auto',\n  padding: '32px 0',\n  outline: 0,\n});\n\nexport const CrossReference = ({\n  open,\n  handleCloseCrossReference,\n  fullScreen,\n  ...contentProps\n}) =>\n  fullScreen ? (\n    <Modal open={open} onClose={handleCloseCrossReference}>\n      <InvisibleScrollablePopup>\n        <CrossReferenceContent {...contentProps} />\n      </InvisibleScrollablePopup>\n    </Modal>\n  ) : (\n    open && (\n      <Grid item xs={12} sm={10} md={6}>\n        <Grid container direction=\"column\" spacing={2}>\n          <Grid item>\n            <Button\n              fullWidth\n              variant=\"contained\"\n              color=\"secondary\"\n              onClick={handleCloseCrossReference}\n            >\n              Close\n            </Button>\n          </Grid>\n          <Grid item>\n            <InvisibleScrollablePanel>\n              <CrossReferenceContent {...contentProps} />\n            </InvisibleScrollablePanel>\n          </Grid>\n        </Grid>\n      </Grid>\n    )\n  );\n","import React from 'react';\n\nimport { VersesSelector } from './VerseSelector';\nimport { Popupmenu } from './PopupMenu';\nimport { CrossReference } from './CrossReference';\n\nimport { removeDuplicate, flatMapBibleObjectTree } from './utils';\nimport {\n  Button,\n  Card,\n  CardContent,\n  Container,\n  Grid,\n  useMediaQuery,\n  useTheme,\n} from '@material-ui/core';\n\nimport {\n  cfByTopic as laiCfByTopic,\n  cfByVerse as laiCfByVerse,\n} from './resources/LAICrossReferences.json';\n\nexport const App = () => {\n  const theme = useTheme();\n  const fullScreen = useMediaQuery(theme.breakpoints.down('sm'));\n\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const [isCrossReferenceOpen, setIsCrossReferenceOpen] = React.useState(false);\n\n  const [clickedVerseAddress, setClickedVerseAddress] = React.useState({});\n  const [referrerVerseAddress, setReferrerVerseAddress] = React.useState({});\n  const [referredVersesAddress, setReferredVersesAddress] = React.useState({});\n\n  const {\n    book: referrerBook,\n    chapter: referrerChapter,\n    verse: referrerVerse,\n  } = referrerVerseAddress;\n  const {\n    book: referredBook,\n    chapter: referredChapter,\n    verses: referredVerses,\n  } = referredVersesAddress;\n\n  const [crossReferencesByTopic, setCrossReferencesByTopic] = React.useState(\n    localStorage.getItem('cfByTopic')\n      ? JSON.parse(localStorage.getItem('cfByTopic'))\n      : laiCfByTopic\n  );\n  const [crossReferencesByVerse, setCrossReferencesByVerse] = React.useState(\n    localStorage.getItem('cfByVerse')\n      ? JSON.parse(localStorage.getItem('cfByVerse'))\n      : laiCfByVerse\n  );\n  const [highlightsByVerse, setHighlightsByVerse] = React.useState(\n    JSON.parse(localStorage.getItem('highlightsByVerse') || '{}')\n  );\n\n  const handleLocalStorage = () => {\n    localStorage.setItem('cfByVerse', JSON.stringify(crossReferencesByVerse));\n    localStorage.setItem('cfByTopic', JSON.stringify(crossReferencesByTopic));\n    localStorage.setItem(\n      'highlightsByVerse',\n      JSON.stringify(highlightsByVerse)\n    );\n  };\n\n  const handleOpenPopupMenu = e => {\n    setAnchorEl(e.currentTarget);\n  };\n\n  const handleClosePopupMenu = () => {\n    setAnchorEl(null);\n  };\n\n  const handleOpenCrossReference = () => {\n    setIsCrossReferenceOpen(true);\n  };\n\n  const handleCloseCrossReference = () => {\n    setIsCrossReferenceOpen(false);\n  };\n\n  const handleReferrerVerseClick = (e, verseAddress) => {\n    handleOpenPopupMenu(e);\n    setClickedVerseAddress(verseAddress);\n  };\n\n  const handleReferredVersesChange = versesAddress => {\n    setReferredVersesAddress(versesAddress);\n  };\n\n  const handleCrossReference = topic => {\n    //cfByTopic\n    const newCrossReferencesByTopic = { ...crossReferencesByTopic };\n\n    newCrossReferencesByTopic[topic] = {\n      ...(newCrossReferencesByTopic[topic] || {}),\n    };\n\n    newCrossReferencesByTopic[topic][referrerBook] = {\n      ...(newCrossReferencesByTopic[topic][referrerBook] || {}),\n    };\n    newCrossReferencesByTopic[topic][referrerBook][referrerChapter] = [\n      ...(newCrossReferencesByTopic[topic][referrerBook][referrerChapter] ||\n        []),\n      referrerVerse,\n    ].filter(removeDuplicate);\n\n    newCrossReferencesByTopic[topic][referredBook] = {\n      ...(newCrossReferencesByTopic[topic][referredBook] || {}),\n    };\n\n    newCrossReferencesByTopic[topic][referredBook][referredChapter] = [\n      ...(newCrossReferencesByTopic[topic][referredBook][referredChapter] ||\n        []),\n      ...referredVerses,\n    ].filter(removeDuplicate);\n\n    setCrossReferencesByTopic(newCrossReferencesByTopic);\n\n    //cfByVerse\n    const newCrossReferencesByVerse = { ...crossReferencesByVerse };\n\n    newCrossReferencesByVerse[referrerBook] = {\n      ...(newCrossReferencesByVerse[referrerBook] || {}),\n    };\n    newCrossReferencesByVerse[referrerBook][referrerChapter] = {\n      ...(newCrossReferencesByVerse[referrerBook][referrerChapter] || {}),\n    };\n    newCrossReferencesByVerse[referrerBook][referrerChapter][referrerVerse] = [\n      ...(newCrossReferencesByVerse[referrerBook][referrerChapter][\n        referrerVerse\n      ] || []),\n      topic,\n    ].filter(removeDuplicate);\n\n    newCrossReferencesByVerse[referredBook] = {\n      ...(newCrossReferencesByVerse[referredBook] || {}),\n    };\n    newCrossReferencesByVerse[referredBook][referredChapter] = {\n      ...(newCrossReferencesByVerse[referredBook][referredChapter] || {}),\n    };\n\n    referredVerses.forEach(referredVerse => {\n      newCrossReferencesByVerse[referredBook][referredChapter][\n        referredVerse\n      ] = [\n        ...(newCrossReferencesByVerse[referredBook][referredChapter][\n          referredVerse\n        ] || []),\n        topic,\n      ].filter(removeDuplicate);\n    });\n\n    setCrossReferencesByVerse(newCrossReferencesByVerse);\n  };\n\n  const handleDeleteCrossReference = (topic, verseAddress) => {\n    const { book, chapter, verse } = verseAddress;\n\n    //cfByTopic\n    const newCrossReferencesByTopic = { ...crossReferencesByTopic };\n    const topicContent = newCrossReferencesByTopic[topic];\n    const mappedTopicContent = flatMapBibleObjectTree(\n      topicContent,\n      ({ book, chapter, verse }) => ({\n        book,\n        chapter,\n        verse,\n      })\n    );\n\n    if (mappedTopicContent.length === 1) {\n      delete newCrossReferencesByTopic[topic];\n    } else {\n      const verseNumberListByVerse = topicContent[book][chapter];\n      const verseIndex = verseNumberListByVerse.indexOf(verse);\n      verseNumberListByVerse.splice(verseIndex, 1);\n    }\n\n    setCrossReferencesByTopic(newCrossReferencesByTopic);\n\n    //cfByVerse\n    const newCrossReferencesByVerse = { ...crossReferencesByVerse };\n\n    const topicListByVerse = newCrossReferencesByVerse[book][chapter][verse];\n    const topicIndex = topicListByVerse.indexOf(topic);\n    topicListByVerse.splice(topicIndex, 1);\n\n    setCrossReferencesByVerse(newCrossReferencesByVerse);\n  };\n\n  const handleDeleteTopic = topic => {\n    //cfByTopic\n    const newCrossReferencesByTopic = { ...crossReferencesByTopic };\n    const topicContent = newCrossReferencesByTopic[topic];\n    delete newCrossReferencesByTopic[topic];\n\n    setCrossReferencesByTopic(newCrossReferencesByTopic);\n\n    //cfByVerse\n    const newCrossReferencesByVerse = { ...crossReferencesByVerse };\n    const mappedTopicContent = flatMapBibleObjectTree(\n      topicContent,\n      ({ book, chapter, verse }) => ({\n        book,\n        chapter,\n        verse,\n      })\n    );\n\n    mappedTopicContent.forEach(verseAddress => {\n      const { book, chapter, verse } = verseAddress;\n\n      const topicListByVerse = newCrossReferencesByVerse[book][chapter][verse];\n      const topicIndex = topicListByVerse.indexOf(topic);\n      topicListByVerse.splice(topicIndex, 1);\n    });\n\n    setCrossReferencesByVerse(newCrossReferencesByVerse);\n  };\n\n  const handleRenameTopic = (oldTopicName, newTopicName) => {\n    if (!crossReferencesByTopic[newTopicName]) {\n      //cfByTopic\n      const newCrossReferencesByTopic = { ...crossReferencesByTopic };\n      const topicContent = newCrossReferencesByTopic[oldTopicName];\n\n      newCrossReferencesByTopic[newTopicName] = {\n        ...newCrossReferencesByTopic[oldTopicName],\n      };\n      delete newCrossReferencesByTopic[oldTopicName];\n\n      setCrossReferencesByTopic(newCrossReferencesByTopic);\n\n      //cfByVerse\n      const newCrossReferencesByVerse = { ...crossReferencesByVerse };\n      const mappedTopicContent = flatMapBibleObjectTree(\n        topicContent,\n        ({ book, chapter, verse }) => ({\n          book,\n          chapter,\n          verse,\n        })\n      );\n\n      mappedTopicContent.forEach(verseAddress => {\n        const { book, chapter, verse } = verseAddress;\n\n        const topicListByVerse =\n          newCrossReferencesByVerse[book][chapter][verse];\n        const topicIndex = topicListByVerse.indexOf(oldTopicName);\n        topicListByVerse[topicIndex] = newTopicName;\n      });\n\n      setCrossReferencesByVerse(newCrossReferencesByVerse);\n    }\n  };\n\n  const handleSetReferrerAndReferred = () => {\n    const { book, chapter, verse } = clickedVerseAddress;\n\n    setReferrerVerseAddress(clickedVerseAddress);\n    setReferredVersesAddress({ book, chapter, verses: [verse] });\n  };\n\n  const handleSetHighlight = () => {\n    const { book, chapter, verse } = clickedVerseAddress;\n\n    const newHighlightsByVerse = { ...highlightsByVerse };\n\n    newHighlightsByVerse[book] = {\n      ...(newHighlightsByVerse[book] || {}),\n    };\n    newHighlightsByVerse[book][chapter] = [\n      ...(newHighlightsByVerse[book][chapter] || []),\n      verse,\n    ].filter(removeDuplicate);\n\n    setHighlightsByVerse(newHighlightsByVerse);\n  };\n\n  return (\n    <>\n      <Popupmenu\n        anchorEl={anchorEl}\n        handleClosePopupMenu={handleClosePopupMenu}\n        handleOpenCrossReference={handleOpenCrossReference}\n        handleSetReferrerAndReferred={handleSetReferrerAndReferred}\n        handleSetHighlight={handleSetHighlight}\n      />\n\n      <Container>\n        <Grid justify=\"center\" container spacing={3}>\n          <Grid item xs={12} sm={10} md={6}>\n            <Grid container direction=\"column\" spacing={2}>\n              <Grid item>\n                <Button\n                  fullWidth\n                  variant=\"contained\"\n                  color=\"primary\"\n                  onClick={handleLocalStorage}\n                >\n                  Save\n                </Button>\n              </Grid>\n              <Grid item>\n                <Card>\n                  <CardContent>\n                    <VersesSelector\n                      clickedVerseAddress={clickedVerseAddress}\n                      highlightsByVerse={highlightsByVerse}\n                      handleVerseClick={handleReferrerVerseClick}\n                    />\n                  </CardContent>\n                </Card>\n              </Grid>\n            </Grid>\n          </Grid>\n          <CrossReference\n            fullScreen={fullScreen}\n            open={isCrossReferenceOpen}\n            handleCloseCrossReference={handleCloseCrossReference}\n            referredVersesAddress={referredVersesAddress}\n            handleCrossReference={handleCrossReference}\n            handleReferredVersesChange={handleReferredVersesChange}\n            handleDeleteCrossReference={handleDeleteCrossReference}\n            handleDeleteTopic={handleDeleteTopic}\n            handleRenameTopic={handleRenameTopic}\n            topicsFromReferrer={\n              (crossReferencesByVerse &&\n                crossReferencesByVerse[referrerBook] &&\n                crossReferencesByVerse[referrerBook][referrerChapter] &&\n                crossReferencesByVerse[referrerBook][referrerChapter][\n                  referrerVerse\n                ]) ||\n              []\n            }\n            topicsFromReferred={(referredVerses || []).reduce(\n              (acc, referredVerse) => [\n                ...acc,\n                ...((crossReferencesByVerse &&\n                  crossReferencesByVerse[referredBook] &&\n                  crossReferencesByVerse[referredBook][referredChapter] &&\n                  crossReferencesByVerse[referredBook][referredChapter][\n                    referredVerse\n                  ]) ||\n                  []),\n              ],\n\n              []\n            )}\n            crossReferencesByReferrer={(\n              (crossReferencesByVerse &&\n                crossReferencesByVerse[referrerBook] &&\n                crossReferencesByVerse[referrerBook][referrerChapter] &&\n                crossReferencesByVerse[referrerBook][referrerChapter][\n                  referrerVerse\n                ]) ||\n              []\n            ).map(topic => ({\n              topic,\n              content: crossReferencesByTopic[topic],\n            }))}\n          />\n        </Grid>\n      </Container>\n    </>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { CssBaseline } from '@material-ui/core';\n\nimport App from './App';\n\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <CssBaseline />\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}